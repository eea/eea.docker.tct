{% extends 'layout.html' %}

{% block extra_head %}
  <style>
    .controls textarea{width: 100%;}
    .controls textarea#id_title {height: 54px;}
  </style>
  {{ form.media }}
{% endblock %}

{% block content %}

{% load i18n %}

<h1 class="small">{% trans "Edit goal" %} {{ goal.code|title }}</h1>

{% if form.errors %}
  <p style="color:red;">
    {% blocktrans with form.errors|pluralize as errors %}Please correct the error {{ errors }} below.{% endblocktrans %}
  </p>
{% endif %}

<form action="" method="post">

  <div class="form-actions">
    <button type="submit" class="btn btn-primary">{% trans "Save" %}</button>
    <a href="{% url 'list_goals' %}" class="btn" type="button">{% trans "Cancel" %}</a>
  </div>

  <div class="control-group">
    <label class="control-label" for="language">{% trans "Language" %}</label>
    <div class="controls">
      {{ form.language }}
    </div>
  </div>

  <div class="row">
    <div class="span6">
      <div class="language-container">

        <div class="control-group">
          <label class="control-label" for="title">{% trans "Title" %}</label>
          <div class="controls">
            {{ form.title }}
            {{ form.title.errors }}
          </div>
        </div>

        <div class="control-group">
          <label class="control-label" for="description">{% trans "Description" %}</label>
          <div class="controls">
            {{ form.description }}
            {{ form.description.errors }}
          </div>
        </div>

      </div>
    </div>

    {% if lang != DEFAULT_LANGUAGE %}
    {% trans DEFAULT_LANGUAGE_LABEL as default_language_label %}
     <div class="span6 original-hideout">
        <p class="original-title">
            {% blocktrans with default_language_label as language %}Original title in {{ language }}{% endblocktrans %}
        </p>
      <div class="well">
        {{ goal.title_default }}
      </div>

        <p class="original-description">
            {% blocktrans with default_language_label as language %}Original description in {{ language }}{% endblocktrans %}
        </p>
      <div class="well">
        {{ goal.description_default|safe }}
      </div>
    </div>
    {% endif %}

  </div>

  <div class="form-actions">
    <button type="submit" class="btn btn-primary">{% trans "Save" %}</button>
    <a href="{% url 'list_goals' %}" class="btn" type="button">{% trans "Cancel" %}</a>
  </div>

</form>
{% endblock %}

{% block scripts %}
<script src="/static/js/national_objective.js"></script>
{% endblock scripts %}
